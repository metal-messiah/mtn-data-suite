<mds-sub-title-bar subTitle="2. Categorize Stores"></mds-sub-title-bar>

<form id="cat-form" class="content" *ngIf="reportBuilderService.getReportTableData()">

  <h3>Existing Stores</h3>
  <table id="existing-store-table">
    <tr *ngFor="let store of getExistingStoresCombined()" [ngClass]="getStoreRowClass(store)">
      <td>({{getExistingStoresCount(store.bannerName)}})</td>
      <td>{{store.bannerName}}</td>
      <td>
        <select [value]="store.category" (change)="changeCombinedCategory($event, store)">
          <option *ngFor="let cat of categories">{{cat}}</option>
        </select>
      </td>
    </tr>
  </table>

  <ng-container *ngIf="getProposedStores().length > 0">
    <h3>Proposed Stores</h3>

    <table id="proposed-stores-table">
      <tr *ngFor="let store of getProposedStores()" [ngClass]="getStoreRowClass(store)">
        <td>{{store.mapKey}}</td>
        <td>{{store.storeName}}</td>
        <td>{{store.scenario}}</td>
        <td>
          <select [value]="store.category" (change)="changeCategory($event, store)">
            <option *ngFor="let cat of categories">{{cat}}</option>
          </select>
        </td>
      </tr>
    </table>

  </ng-container>

</form>

<mds-sub-title-bar>
  <button color="accent" type="button" form="cat-form" mat-raised-button [routerLink]="['../data-verification']">
    Next
  </button>
</mds-sub-title-bar>

