<div *ngIf="!reportData" style="display: flex; justify-content: center; margin-top: 16px;">
  <i class="fas fa-spinner fa-pulse fa-2x"></i>
</div>

<ng-container *ngIf="reportData">
  <div *ngFor="let tableName of tableNames" style="position: relative;">
    <ng-container *ngIf="pdfs[tableName]">
      <div style="text-align: center; margin-bottom: 8px;">
        <button mat-raised-button (click)="zoomOut(tableName)"><i class="fas fa-search-plus"></i></button>
        <button mat-raised-button (click)="zoomIn(tableName)"><i class="fas fa-search-minus"></i></button>
      </div>
      <pdf-viewer [src]="pdfs[tableName].data"
                  [zoom]="pdfs[tableName].zoom"
                  [renderText]="true"
                  [original-size]="pdfs[tableName].originalSize"
                  [autoresize]="pdfs[tableName].autoResize"
                  [fitToPage]="pdfs[tableName].fitToPage"></pdf-viewer>
      <hr>
    </ng-container>
  </div>

  <div style="display: flex; align-items: center; justify-content: center;">
    <img [src]="util.getMapUrl(googleMapsBasemap, zoom)" id="mapImage">
    <div>
      <button [color]="googleMapsBasemap === 'hybrid' ? 'warn':'primary'"
              (click)="googleMapsBasemap = 'hybrid'"
              mat-raised-button style="margin:5px;">Sat
      </button>
      <br>
      <button [color]="googleMapsBasemap === 'roadmap' ? 'warn':'primary'"
              (click)="googleMapsBasemap = 'roadmap'"
              mat-raised-button style="margin:5px;">Road
      </button>
      <br>
      <button color="primary" (click)="adjustZoom(1)" mat-raised-button style="margin:5px;"><i
        class="fas fa-search-plus"></i></button>
      <br>
      <button color="primary" (click)="adjustZoom(-1)" mat-raised-button style="margin:5px;"><i
        class="fas fa-search-minus"></i></button>
      <br>
    </div>
  </div>
  <hr>
  <div style="margin-bottom: 20px; display: flex; justify-content: center;">
    <button color="primary" mat-raised-button (click)="_location.back()" style="margin:20px 20px 0 0;">Go Back</button>
    <button [disabled]="rbs.compilingReport" color="warn" mat-raised-button (click)="startBuildingReport()"
            style="margin-top:20px;">
      Export
    </button>
    <span class="file-tip" *ngIf="rbs.compilingReport">
        <i class="fas fa-spinner fa-pulse" style="margin-right:5px;"></i>
        <b>Compiling Report. This may take a couple minutes...</b>
    </span>
  </div>
</ng-container>
